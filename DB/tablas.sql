-- Tabla: ESTADOS
CREATE TABLE ESTADOS (
    ESTADO_ID VARCHAR2(2) PRIMARY KEY,
    NOMBRE VARCHAR2(20)
);

-- Tabla: PACIENTE
CREATE TABLE PACIENTE (
    PACIENTE_ID VARCHAR2(7) PRIMARY KEY,
    NOMBRE VARCHAR2(20),
    APELLIDO_PAT VARCHAR2(20),
    APELLIDO_MAT VARCHAR2(20),
    SEXO VARCHAR2(1),
    LADA VARCHAR2(5),
    TELEFONO VARCHAR2(15),
    EXT INT,
    EXTENSION VARCHAR2(10),
    FECHA_NACIMIENTO DATE,
    USUARIO VARCHAR2(20),
    CONTRASENIA VARCHAR2(20),
    ESTADOS_ESTADO_ID VARCHAR2(2),
    CALLE VARCHAR2(50),
    ALCAL_MUN VARCHAR2(50),
    COLONIA VARCHAR2(50),
    CP VARCHAR2(5),
    FOREIGN KEY (ESTADOS_ESTADO_ID) REFERENCES ESTADOS(ESTADO_ID)
);

-- Tabla: EMPLEADO
CREATE TABLE EMPLEADO (
    EMPLEADO_ID VARCHAR2(7) PRIMARY KEY,
    NOMBRE VARCHAR2(20),
    APELLIDO_PAT VARCHAR2(20),
    APELLIDO_MAT VARCHAR2(20),
    FECHA_INGRESO DATE,
    FECHA_NACIMIENTO DATE,
    USUARIO VARCHAR2(20),
    CONTRASENIA VARCHAR2(20),
    Paciente_PACIENTE_ID VARCHAR2(7),
    PUESTO_PUESTO_ID VARCHAR2(2),
    FOREIGN KEY (Paciente_PACIENTE_ID) REFERENCES PACIENTE(PACIENTE_ID),
    FOREIGN KEY (PUESTO_PUESTO_ID) REFERENCES PUESTO(PUESTO_ID)
);

-- Tabla: PUESTO
CREATE TABLE PUESTO (
    PUESTO_ID VARCHAR2(2) PRIMARY KEY,
    PUESTO VARCHAR2(20)
);

-- Tabla: MEDICO
CREATE TABLE MEDICO (
    MEDICO_ID VARCHAR2(7) PRIMARY KEY,
    NOMBRE VARCHAR2(20),
    APELLIDO_PAT VARCHAR2(20),
    APELLIDO_MAT VARCHAR2(20),
    HORARIO  TIMESTAMP,
    USUARIO VARCHAR2(20),
    CONTRASENIA VARCHAR2(20),
    ESPECIALIDAD_ESPEC_ID VARCHAR2(7),
    FOREIGN KEY (ESPECIALIDAD_ESPEC_ID) REFERENCES ESPECIALIDAD(ESPEC_ID)
);

-- Tabla: ESPECIALIDAD
CREATE TABLE ESPECIALIDAD (
    ESPEC_ID VARCHAR2(7) PRIMARY KEY,
    NOMBRE VARCHAR2(20)
);

-- Tabla: CITAS
CREATE TABLE CITAS (
    CITAS_ID VARCHAR2(7) PRIMARY KEY,
    FECHA_HORA_CITA DATE,
    ESTADO_CITA VARCHAR2(20),
    NUM_CONSULTORIO VARCHAR2(7),
    PACIENTE_PACIENTE_ID VARCHAR2(7),
    MEDICO_MEDICO_ID VARCHAR2(7),
    FOREIGN KEY (PACIENTE_PACIENTE_ID) REFERENCES PACIENTE(PACIENTE_ID),
    FOREIGN KEY (MEDICO_MEDICO_ID) REFERENCES MEDICO(MEDICO_ID)
);

-- Tabla: PADECIMIENTO
CREATE TABLE PADECIMIENTO (
    PADECIMIENTO_ID VARCHAR2(7) PRIMARY KEY,
    NOMBRE VARCHAR2(20)
);

-- Tabla: PACIENTE_PADECIMIENTO
CREATE TABLE PACIENTE_PADECIMIENTO (
    PADECIMIENTO_PADECIMIENTO_ID VARCHAR2(7),
    Paciente_PACIENTE_ID VARCHAR2(7),
    OBSERVACION VARCHAR2(20),
    PRIMARY KEY (PADECIMIENTO_PADECIMIENTO_ID, Paciente_PACIENTE_ID),
    FOREIGN KEY (PADECIMIENTO_PADECIMIENTO_ID) REFERENCES PADECIMIENTO(PADECIMIENTO_ID),
    FOREIGN KEY (Paciente_PACIENTE_ID) REFERENCES PACIENTE(PACIENTE_ID)
);

-- Tabla: DIAGNOSTICO
CREATE TABLE DIAGNOSTICO (
    DIAGNOSTICO_ID VARCHAR2(7) PRIMARY KEY,
    DIAGNOSTICO VARCHAR2(20),
    CITAS_CITAS_ID VARCHAR2(7),
    FOREIGN KEY (CITAS_CITAS_ID) REFERENCES CITAS(CITAS_ID)
);

-- Tabla: MEDICAMENTO
CREATE TABLE MEDICAMENTO (
    MEDICAMENTO_ID VARCHAR2(7) PRIMARY KEY,
    NOMBRE VARCHAR2(20)
);

-- Tabla: RECETA
CREATE TABLE RECETA (
    PERIODICIDAD VARCHAR2(20),
    DIAGNOSTICO_DIAGNOSTICO_ID VARCHAR2(7),
    MEDICAMENTO_MEDICAMENTO_ID VARCHAR2(7),
    PRIMARY KEY (DIAGNOSTICO_DIAGNOSTICO_ID, MEDICAMENTO_MEDICAMENTO_ID),
    FOREIGN KEY (DIAGNOSTICO_DIAGNOSTICO_ID) REFERENCES DIAGNOSTICO(DIAGNOSTICO_ID),
    FOREIGN KEY (MEDICAMENTO_MEDICAMENTO_ID) REFERENCES MEDICAMENTO(MEDICAMENTO_ID)
);

-- Tabla: COMPUESTO
CREATE TABLE COMPUESTO (
    COMP_ID VARCHAR2(7) PRIMARY KEY,
    NOMBRE VARCHAR2(20),
    MED_COMP_MED_ID VARCHAR2(7),
    MEDICAMENTO_MEDICAMENTO_ID VARCHAR2(7),
    FOREIGN KEY (MED_COMP_MED_ID) REFERENCES MEDICAMENTO(MEDICAMENTO_ID),
    FOREIGN KEY (MEDICAMENTO_MEDICAMENTO_ID) REFERENCES MEDICAMENTO(MEDICAMENTO_ID)
);

-- Tabla: MED_COMP
CREATE TABLE MED_COMP (
    MED_ID VARCHAR2(7),
    MEDICAMENTO_MEDICAMENTO_ID VARCHAR2(7),
    PRIMARY KEY (MED_ID, MEDICAMENTO_MEDICAMENTO_ID),
    FOREIGN KEY (MEDICAMENTO_MEDICAMENTO_ID) REFERENCES MEDICAMENTO(MEDICAMENTO_ID)
);
